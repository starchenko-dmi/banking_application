# Проект банковского приложения

## Пакет src содержит 4 модуля

### reports.py - функции для получения отчета
1. report_to_file - Декоратор для сохранения результата функции-отчёта в файл
2. spending_by_category - Возвращает траты по заданной категории за последние 3 месяца от указанной даты

### services.py - функции для получения сервисных операций
1. analyze_cashback - Анализирует транзакции за указанный год и месяц,
   возвращает JSON с суммой кешбэка по каждой категории

### utils.py - функции для работы главной страницы сайта
1. process_excel -  Читает Excel-файл, приводит столбец 'Дата операции' к формату datetime.
   Возвращает обработанный DataFrame.
2. filter_operations_by_date - Фильтрует операции от первого числа месяца до переданной даты (включительно весь день).
   Возвращает отсортированный список словарей с операциями.
3. get_greeting -  Возвращает приветствие в зависимости от текущего времени суток
4. get_operations_file_path - Возвращает абсолютный путь к файлу в папке 'data',
   находящейся на одном уровне с папкой 'src'
5. analyze_cards - Анализирует операции по картам и возвращает список словарей с данными
6. get_top_5_transactions - Возвращает Топ-5 транзакций по модулю суммы платежа (самые крупные по абсолютному значению).
7. get_cbr_rates - Получает курсы USD и EUR к RUB с сайта ЦБ РФ
8. get_financial_data - Получаем данные о валютах и акциях

### views.py - функции формирующие JSON файлы
1. generate_financial_report - Генерирует полный финансовый отчёт в формате JSON, включая:
    - Приветствие по времени суток
    - Анализ по картам
    - Топ-5 транзакций
    - Курсы валют и цены акций
2. generate_services_report - Возвращает JSON-строку с информацией о кешбэке по категориям за указанный год и месяц.

## Пакет tests содержит тесты на всю функциональность по модулям

## Директория data содержит Excel фаил с данными

## Директория htmlcov содержит отчет по тестам

## Модуль main содержит главную логику программы

## Основные зависимости и настройки смотри в poetry.lock